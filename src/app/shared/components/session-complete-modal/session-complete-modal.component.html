<div class="complete-overlay">
    <section class="complete-modal">
      <!-- Прогресс бар -->
      <div class="complete-modal__progress-container">
        <div class="complete-modal__progress-bar">
          <div 
            class="complete-modal__progress-fill" 
            [style.width.%]="getProgressPercentage()">
          </div>
        </div>
        <span class="complete-modal__progress-text">
          {{ data.current_xp }}/{{ data.max_level_xp | number:'1.0-0' }}
        </span>
      </div>
  
      <!-- Уровень и награда -->
      <div class="complete-modal__level">
        <span class="complete-modal__level-text">{{ data.current_level }} уровень</span>
        <div class="complete-modal__reward">
          <svg width="23" height="23" viewBox="0 0 23 23" fill="none">
            <g clip-path="url(#clip0)">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M16.5312 20.125C20.1106 20.125 23 18.6875 23 16.5312V2.875C23 1.4375 20.125 0 16.5312 0C12.9375 0 10.0625 1.4375 10.0625 2.875V7.90625C11.7444 8.61063 13.1819 9.78938 14.2025 11.2844C14.9069 11.4224 15.6831 11.4986 16.5312 11.4986C18.4144 11.4986 19.9813 11.1234 21.1025 10.5124C21.2617 10.4249 21.4166 10.33 21.5668 10.2278V12.2116C21.5668 12.5494 21.298 13.0741 20.4139 13.5571C19.5572 14.0243 18.2433 14.3678 16.5327 14.3678C16.1906 14.3678 15.8647 14.3549 15.5552 14.329C15.6702 14.8015 15.7469 15.2854 15.7852 15.7809C16.0276 15.7943 16.2768 15.801 16.5327 15.801C18.4158 15.801 19.9827 15.4258 21.1039 14.8149C21.2631 14.7274 21.4181 14.6324 21.5682 14.5302V16.514C21.5682 16.8533 21.3541 17.3564 20.4312 17.8538C19.5227 18.3425 18.1599 18.6702 16.5356 18.6702C16.2049 18.6702 15.8849 18.6568 15.5753 18.63C15.4648 19.1078 15.3163 19.576 15.1311 20.0301C15.5835 20.0809 16.0511 20.1063 16.5341 20.1063L16.5312 20.125Z" fill="#FFD700"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M12.9375 16.5312C12.9375 20.1106 10.0481 23 6.46875 23C2.88937 23 0 20.1106 0 16.5312C0 12.9519 2.88937 10.0625 6.46875 10.0625C10.0481 10.0625 12.9375 12.9519 12.9375 16.5312Z" fill="#FFD700"/>
            </g>
          </svg>
          <span class="complete-modal__reward-amount">+ {{ data.earned_coins }}</span>
        </div>
      </div>
  
      <!-- Поздравление -->
      <h2 class="complete-modal__title">Ура! Вы молодец!</h2>
  
      <!-- Кнопки -->
      <div class="complete-modal__actions">
        <button class="complete-modal__btn complete-modal__btn--primary" (click)="onTakeBreak()">
          Взять перерыв (15 сек)
        </button>
        <button class="complete-modal__btn complete-modal__btn--secondary" (click)="onCancel()">
          Отмена
        </button>
      </div>
    </section>
  </div>
  